@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--background: 0 0% 100%;
		--foreground: 222.2 84% 4.9%;

		--card: 0 0% 100%;
		--card-foreground: 222.2 84% 4.9%;

		--popover: 0 0% 100%;
		--popover-foreground: 222.2 84% 4.9%;

		--primary: 222.2 47.4% 11.2%;
		--primary-foreground: 210 40% 98%;

		--secondary: 210 40% 96.1%;
		--secondary-foreground: 222.2 47.4% 11.2%;

		--muted: 210 40% 96.1%;
		--muted-foreground: 215.4 16.3% 46.9%;

		--accent: 210 40% 96.1%;
		--accent-foreground: 222.2 47.4% 11.2%;

		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 210 40% 98%;

		--border: 214.3 31.8% 91.4%;
		--input: 214.3 31.8% 91.4%;
		--ring: 222.2 84% 4.9%;

		--radius: 0.5rem;
	}

	.dark {
		--background: 222.2 84% 4.9%;
		--foreground: 210 40% 98%;

		--card: 222.2 84% 4.9%;
		--card-foreground: 210 40% 98%;

		--popover: 222.2 84% 4.9%;
		--popover-foreground: 210 40% 98%;

		--primary: 210 40% 98%;
		--primary-foreground: 222.2 47.4% 11.2%;

		--secondary: 217.2 32.6% 17.5%;
		--secondary-foreground: 210 40% 98%;

		--muted: 217.2 32.6% 17.5%;
		--muted-foreground: 215 20.2% 65.1%;

		--accent: 217.2 32.6% 17.5%;
		--accent-foreground: 210 40% 98%;

		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 210 40% 98%;

		--border: 217.2 32.6% 17.5%;
		--input: 217.2 32.6% 17.5%;
		--ring: 212.7 26.8% 83.9%;
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
	}
}

.prose {
	@apply prose-p:mb-6 prose-p:mt-0 prose-p:text-base sm:prose-p:text-lg prose-ol:mt-0 prose-ul:mt-0 prose-li:text-base sm:prose-li:text-lg prose-headings:mb-4 prose-headings:mt-6 prose-img:rounded-md tiptap prose-th:bg-gray-100 prose-th:pt-2 sm:prose-h1:text-4xl sm:prose-h2:text-3xl sm:prose-h3:text-2xl prose-h1:text-xl prose-h2:text-lg prose-h3:text-base;
}

.prose li {
	margin: 6px;
}

.prose li p {
	margin: 0;
}

.tiptap p.is-editor-empty:first-child::before {
	color: #adb5bd;
	content: attr(data-placeholder);
	float: left;
	height: 0;
	pointer-events: none;
}

.ProseMirror {
	@apply focus:!outline-0 px-4 py-4 min-h-[150px] relative;
}

.ProseMirror iframe {
	@apply !w-full !h-auto max-w-[480px] min-h-[320px] !aspect-video mr-6;
}

.ProseMirror img.ProseMirror-selectednode,
.ProseMirror .ProseMirror-selectednode iframe {
	@apply outline outline-8 outline-yellow-500 transition-[outline] duration-150 block;
}

.ProseMirror img {
	@apply object-scale-down object-center w-fit;
}

.ProseMirror img.ProseMirror-selectednode,
.ProseMirror div[data-youtube-video] {
	@apply cursor-move;
}

.ProseMirror .selectedCell:after {
	@apply z-[2] absolute inset-0 bg-gray-400/30 pointer-events-none content-[''];
}

.ProseMirror .column-resize-handle {
	@apply absolute w-1 top-0 right-[-2px] bottom-[-2px] bg-sky-200 pointer-events-none;
}

.ProseMirror-gapcursor {
	@apply hidden pointer-events-none !relative;
	@apply after:content-[''] after:block after:!relative after:h-5 after:border-l after:!border-t-0 after:border-black after:mt-1;
}
.ProseMirror-gapcursor:after {
	animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
	to {
		visibility: hidden;
	}
}
.ProseMirror-focused .ProseMirror-gapcursor {
	@apply block;
}
